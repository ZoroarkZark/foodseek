{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defineAnimation = exports.cancelAnimation = void 0;\nexports.initialUpdaterRun = initialUpdaterRun;\nexports.withStartValue = void 0;\n\nvar _Colors = require(\"../Colors\");\n\nvar _NativeReanimated = _interopRequireDefault(require(\"../NativeReanimated\"));\n\nvar IN_STYLE_UPDATER = false;\n\nfunction initialUpdaterRun(updater) {\n  IN_STYLE_UPDATER = true;\n  var result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\n\nvar recognizePrefixSuffix = function () {\n  var _f = function _f(value) {\n    var _a;\n\n    if (typeof value === 'string') {\n      var match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);\n\n      if (!match) {\n        throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");\n      }\n\n      var prefix = match[1];\n      var suffix = match[4];\n      var number = match[2] + ((_a = match[3]) !== null && _a !== void 0 ? _a : '');\n      return {\n        prefix: prefix,\n        suffix: suffix,\n        strippedValue: parseFloat(number)\n      };\n    } else {\n      return {\n        strippedValue: value\n      };\n    }\n  };\n\n  _f._closure = {};\n  _f.asString = \"function recognizePrefixSuffix(value){var _a;if(typeof value==='string'){const match=value.match(/([A-Za-z]*)(-?\\\\d*\\\\.?\\\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\\\"Couldn't parse animation value. Check if there isn't any typo.\\\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_a=match[3])!==null&&_a!==void 0?_a:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}\";\n  _f.__workletHash = 9535837559464;\n  _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (11:0)\";\n  return _f;\n}();\n\nvar decorateAnimation = function () {\n  var _f = function _f(animation) {\n    if (animation.isHigherOrder) {\n      return;\n    }\n\n    var baseOnStart = animation.onStart;\n    var baseOnFrame = animation.onFrame;\n    var animationCopy = Object.assign({}, animation);\n    delete animationCopy.callback;\n\n    var prefNumberSuffOnStart = function prefNumberSuffOnStart(animation, value, timestamp, previousAnimation) {\n      var _a, _b, _c, _d;\n\n      var _recognizePrefixSuffi = recognizePrefixSuffix(value),\n          prefix = _recognizePrefixSuffi.prefix,\n          suffix = _recognizePrefixSuffi.suffix,\n          strippedValue = _recognizePrefixSuffi.strippedValue;\n\n      animation.__prefix = prefix;\n      animation.__suffix = suffix;\n      animation.strippedCurrent = strippedValue;\n\n      var _recognizePrefixSuffi2 = recognizePrefixSuffix(animation.toValue),\n          strippedToValue = _recognizePrefixSuffi2.strippedValue;\n\n      animation.current = strippedValue;\n      animation.startValue = strippedValue;\n      animation.toValue = strippedToValue;\n\n      if (previousAnimation && previousAnimation !== animation) {\n        previousAnimation.current = previousAnimation.strippedCurrent;\n      }\n\n      baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n      animation.current = ((_a = animation.__prefix) !== null && _a !== void 0 ? _a : '') + animation.current + ((_b = animation.__suffix) !== null && _b !== void 0 ? _b : '');\n\n      if (previousAnimation && previousAnimation !== animation) {\n        previousAnimation.current = ((_c = previousAnimation.__prefix) !== null && _c !== void 0 ? _c : '') + previousAnimation.current + ((_d = previousAnimation.__suffix) !== null && _d !== void 0 ? _d : '');\n      }\n    };\n\n    var prefNumberSuffOnFrame = function prefNumberSuffOnFrame(animation, timestamp) {\n      var _a, _b;\n\n      animation.current = animation.strippedCurrent;\n      var res = baseOnFrame(animation, timestamp);\n      animation.strippedCurrent = animation.current;\n      animation.current = ((_a = animation.__prefix) !== null && _a !== void 0 ? _a : '') + animation.current + ((_b = animation.__suffix) !== null && _b !== void 0 ? _b : '');\n      return res;\n    };\n\n    var tab = ['H', 'S', 'V', 'A'];\n\n    var colorOnStart = function colorOnStart(animation, value, timestamp, previousAnimation) {\n      var HSVAValue;\n      var HSVACurrent;\n      var HSVAToValue;\n      var res = [];\n\n      if ((0, _Colors.isColor)(value)) {\n        HSVACurrent = (0, _Colors.convertToHSVA)(animation.current);\n        HSVAValue = (0, _Colors.convertToHSVA)(value);\n\n        if (animation.toValue) {\n          HSVAToValue = (0, _Colors.convertToHSVA)(animation.toValue);\n        }\n      }\n\n      tab.forEach(function (i, index) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = HSVACurrent[index];\n        animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\n        animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n        res.push(animation[i].current);\n      });\n      animation.current = (0, _Colors.toRGBA)(res);\n    };\n\n    var colorOnFrame = function colorOnFrame(animation, timestamp) {\n      var HSVACurrent = (0, _Colors.convertToHSVA)(animation.current);\n      var res = [];\n      var finished = true;\n      tab.forEach(function (i, index) {\n        animation[i].current = HSVACurrent[index];\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        res.push(animation[i].current);\n      });\n      animation.current = (0, _Colors.toRGBA)(res);\n      return finished;\n    };\n\n    var arrayOnStart = function arrayOnStart(animation, value, timestamp, previousAnimation) {\n      value.forEach(function (v, i) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = v;\n        animation[i].toValue = animation.toValue[i];\n        animation[i].onStart(animation[i], v, timestamp, previousAnimation ? previousAnimation[i] : undefined);\n      });\n      animation.current = value;\n    };\n\n    var arrayOnFrame = function arrayOnFrame(animation, timestamp) {\n      var finished = true;\n      animation.current.forEach(function (v, i) {\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        animation.current[i] = animation[i].current;\n      });\n      return finished;\n    };\n\n    animation.onStart = function (animation, value, timestamp, previousAnimation) {\n      if ((0, _Colors.isColor)(value)) {\n        colorOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = colorOnFrame;\n        return;\n      } else if (Array.isArray(value)) {\n        arrayOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = arrayOnFrame;\n        return;\n      } else if (typeof value === 'string') {\n        prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = prefNumberSuffOnFrame;\n        return;\n      }\n\n      baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n  };\n\n  _f._closure = {\n    recognizePrefixSuffix: recognizePrefixSuffix,\n    isColor: _Colors.isColor,\n    convertToHSVA: _Colors.convertToHSVA,\n    toRGBA: _Colors.toRGBA\n  };\n  _f.asString = \"function decorateAnimation(animation){const{recognizePrefixSuffix,isColor,convertToHSVA,toRGBA}=jsThis._closure;{if(animation.isHigherOrder){return;}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _a,_b,_c,_d;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_a=animation.__prefix)!==null&&_a!==void 0?_a:'')+animation.current+((_b=animation.__suffix)!==null&&_b!==void 0?_b:'');if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=((_c=previousAnimation.__prefix)!==null&&_c!==void 0?_c:'')+previousAnimation.current+((_d=previousAnimation.__suffix)!==null&&_d!==void 0?_d:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _a,_b;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_a=animation.__prefix)!==null&&_a!==void 0?_a:'')+animation.current+((_b=animation.__suffix)!==null&&_b!==void 0?_b:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=true;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return finished;};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=true;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp);animation.current[i]=animation[i].current;});return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}\";\n  _f.__workletHash = 6190664443126;\n  _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (29:0)\";\n  return _f;\n}();\n\nvar defineAnimation = function () {\n  var _f = function _f(starting, factory) {\n    if (IN_STYLE_UPDATER) {\n      return starting;\n    }\n\n    var create = function () {\n      var _f = function _f() {\n        var animation = factory();\n        decorateAnimation(animation);\n        return animation;\n      };\n\n      _f._closure = {\n        factory: factory,\n        decorateAnimation: decorateAnimation\n      };\n      _f.asString = \"function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}\";\n      _f.__workletHash = 2441595458132;\n      _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (152:19)\";\n      return _f;\n    }();\n\n    if (_WORKLET || !_NativeReanimated.default.native) {\n      return create();\n    }\n\n    return create;\n  };\n\n  _f._closure = {\n    IN_STYLE_UPDATER: IN_STYLE_UPDATER,\n    decorateAnimation: decorateAnimation,\n    NativeReanimatedModule: {\n      native: _NativeReanimated.default.native\n    }\n  };\n  _f.asString = \"function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation,NativeReanimatedModule}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET||!NativeReanimatedModule.native){return create();}return create;}}\";\n  _f.__workletHash = 4939784890886;\n  _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (147:7)\";\n  return _f;\n}();\n\nexports.defineAnimation = defineAnimation;\n\nvar cancelAnimation = function () {\n  var _f = function _f(sharedValue) {\n    sharedValue.value = sharedValue.value;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}\";\n  _f.__workletHash = 15056882569526;\n  _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (164:7)\";\n  return _f;\n}();\n\nexports.cancelAnimation = cancelAnimation;\n\nvar withStartValue = function () {\n  var _f = function _f(startValue, animation) {\n    return defineAnimation(startValue, function () {\n      var _f = function _f() {\n        if (!_WORKLET && typeof animation === 'function') {\n          animation = animation();\n        }\n\n        animation.current = startValue;\n        return animation;\n      };\n\n      _f._closure = {\n        animation: animation,\n        startValue: startValue\n      };\n      _f.asString = \"function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}\";\n      _f.__workletHash = 5374403234008;\n      _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (172:39)\";\n      return _f;\n    }());\n  };\n\n  _f._closure = {\n    defineAnimation: defineAnimation\n  };\n  _f.asString = \"function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}\";\n  _f.__workletHash = 5100017907325;\n  _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\animation\\\\util.js (170:7)\";\n  return _f;\n}();\n\nexports.withStartValue = withStartValue;","map":{"version":3,"sources":["C:/Users/Mr. REEETARD/Desktop/FoodSeek/foodseek/src/ui/foodseek/node_modules/react-native-reanimated/lib/reanimated2/animation/util.js"],"names":["IN_STYLE_UPDATER","initialUpdaterRun","updater","result","recognizePrefixSuffix","value","_a","match","Error","prefix","suffix","number","strippedValue","parseFloat","decorateAnimation","animation","isHigherOrder","baseOnStart","onStart","baseOnFrame","onFrame","animationCopy","Object","assign","callback","prefNumberSuffOnStart","timestamp","previousAnimation","_b","_c","_d","__prefix","__suffix","strippedCurrent","toValue","strippedToValue","current","startValue","prefNumberSuffOnFrame","res","tab","colorOnStart","HSVAValue","HSVACurrent","HSVAToValue","forEach","i","index","undefined","push","colorOnFrame","finished","arrayOnStart","v","arrayOnFrame","Array","isArray","isColor","convertToHSVA","toRGBA","defineAnimation","starting","factory","create","_WORKLET","NativeReanimatedModule","native","cancelAnimation","sharedValue","withStartValue"],"mappings":"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","sourcesContent":["/* global _WORKLET */\r\nimport { convertToHSVA, isColor, toRGBA } from '../Colors';\r\nimport NativeReanimatedModule from '../NativeReanimated';\r\nlet IN_STYLE_UPDATER = false;\r\nexport function initialUpdaterRun(updater) {\r\n    IN_STYLE_UPDATER = true;\r\n    const result = updater();\r\n    IN_STYLE_UPDATER = false;\r\n    return result;\r\n}\r\nfunction recognizePrefixSuffix(value) {\r\n    'worklet';\r\n    var _a;\r\n    if (typeof value === 'string') {\r\n        const match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);\r\n        if (!match) {\r\n            throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");\r\n        }\r\n        const prefix = match[1];\r\n        const suffix = match[4];\r\n        // number with scientific notation\r\n        const number = match[2] + ((_a = match[3]) !== null && _a !== void 0 ? _a : '');\r\n        return { prefix, suffix, strippedValue: parseFloat(number) };\r\n    }\r\n    else {\r\n        return { strippedValue: value };\r\n    }\r\n}\r\nfunction decorateAnimation(animation) {\r\n    'worklet';\r\n    if (animation.isHigherOrder) {\r\n        return;\r\n    }\r\n    const baseOnStart = animation.onStart;\r\n    const baseOnFrame = animation.onFrame;\r\n    const animationCopy = Object.assign({}, animation);\r\n    delete animationCopy.callback;\r\n    const prefNumberSuffOnStart = (animation, value, timestamp, previousAnimation) => {\r\n        var _a, _b, _c, _d;\r\n        // recognize prefix, suffix, and updates stripped value on animation start\r\n        const { prefix, suffix, strippedValue } = recognizePrefixSuffix(value);\r\n        animation.__prefix = prefix;\r\n        animation.__suffix = suffix;\r\n        animation.strippedCurrent = strippedValue;\r\n        const { strippedValue: strippedToValue } = recognizePrefixSuffix(animation.toValue);\r\n        animation.current = strippedValue;\r\n        animation.startValue = strippedValue;\r\n        animation.toValue = strippedToValue;\r\n        if (previousAnimation && previousAnimation !== animation) {\r\n            previousAnimation.current = previousAnimation.strippedCurrent;\r\n        }\r\n        baseOnStart(animation, strippedValue, timestamp, previousAnimation);\r\n        animation.current =\r\n            ((_a = animation.__prefix) !== null && _a !== void 0 ? _a : '') +\r\n                animation.current +\r\n                ((_b = animation.__suffix) !== null && _b !== void 0 ? _b : '');\r\n        if (previousAnimation && previousAnimation !== animation) {\r\n            previousAnimation.current =\r\n                ((_c = previousAnimation.__prefix) !== null && _c !== void 0 ? _c : '') +\r\n                    previousAnimation.current +\r\n                    ((_d = previousAnimation.__suffix) !== null && _d !== void 0 ? _d : '');\r\n        }\r\n    };\r\n    const prefNumberSuffOnFrame = (animation, timestamp) => {\r\n        var _a, _b;\r\n        animation.current = animation.strippedCurrent;\r\n        const res = baseOnFrame(animation, timestamp);\r\n        animation.strippedCurrent = animation.current;\r\n        animation.current =\r\n            ((_a = animation.__prefix) !== null && _a !== void 0 ? _a : '') +\r\n                animation.current +\r\n                ((_b = animation.__suffix) !== null && _b !== void 0 ? _b : '');\r\n        return res;\r\n    };\r\n    const tab = ['H', 'S', 'V', 'A'];\r\n    const colorOnStart = (animation, value, timestamp, previousAnimation) => {\r\n        let HSVAValue;\r\n        let HSVACurrent;\r\n        let HSVAToValue;\r\n        const res = [];\r\n        if (isColor(value)) {\r\n            HSVACurrent = convertToHSVA(animation.current);\r\n            HSVAValue = convertToHSVA(value);\r\n            if (animation.toValue) {\r\n                HSVAToValue = convertToHSVA(animation.toValue);\r\n            }\r\n        }\r\n        tab.forEach((i, index) => {\r\n            animation[i] = Object.assign({}, animationCopy);\r\n            animation[i].current = HSVACurrent[index];\r\n            animation[i].toValue = HSVAToValue ? HSVAToValue[index] : undefined;\r\n            animation[i].onStart(animation[i], HSVAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\r\n            res.push(animation[i].current);\r\n        });\r\n        animation.current = toRGBA(res);\r\n    };\r\n    const colorOnFrame = (animation, timestamp) => {\r\n        const HSVACurrent = convertToHSVA(animation.current);\r\n        const res = [];\r\n        let finished = true;\r\n        tab.forEach((i, index) => {\r\n            animation[i].current = HSVACurrent[index];\r\n            // @ts-ignore: disable-next-line\r\n            finished &= animation[i].onFrame(animation[i], timestamp);\r\n            res.push(animation[i].current);\r\n        });\r\n        animation.current = toRGBA(res);\r\n        return finished;\r\n    };\r\n    const arrayOnStart = (animation, value, timestamp, previousAnimation) => {\r\n        value.forEach((v, i) => {\r\n            animation[i] = Object.assign({}, animationCopy);\r\n            animation[i].current = v;\r\n            animation[i].toValue = animation.toValue[i];\r\n            animation[i].onStart(animation[i], v, timestamp, previousAnimation ? previousAnimation[i] : undefined);\r\n        });\r\n        animation.current = value;\r\n    };\r\n    const arrayOnFrame = (animation, timestamp) => {\r\n        let finished = true;\r\n        animation.current.forEach((v, i) => {\r\n            // @ts-ignore: disable-next-line\r\n            finished &= animation[i].onFrame(animation[i], timestamp);\r\n            animation.current[i] = animation[i].current;\r\n        });\r\n        return finished;\r\n    };\r\n    animation.onStart = (animation, value, timestamp, previousAnimation) => {\r\n        if (isColor(value)) {\r\n            colorOnStart(animation, value, timestamp, previousAnimation);\r\n            animation.onFrame = colorOnFrame;\r\n            return;\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            arrayOnStart(animation, value, timestamp, previousAnimation);\r\n            animation.onFrame = arrayOnFrame;\r\n            return;\r\n        }\r\n        else if (typeof value === 'string') {\r\n            prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\r\n            animation.onFrame = prefNumberSuffOnFrame;\r\n            return;\r\n        }\r\n        baseOnStart(animation, value, timestamp, previousAnimation);\r\n    };\r\n}\r\nexport function defineAnimation(starting, factory) {\r\n    'worklet';\r\n    if (IN_STYLE_UPDATER) {\r\n        return starting;\r\n    }\r\n    const create = () => {\r\n        'worklet';\r\n        const animation = factory();\r\n        decorateAnimation(animation);\r\n        return animation;\r\n    };\r\n    if (_WORKLET || !NativeReanimatedModule.native) {\r\n        return create();\r\n    }\r\n    // @ts-ignore: eslint-disable-line\r\n    return create;\r\n}\r\nexport function cancelAnimation(sharedValue) {\r\n    'worklet';\r\n    // setting the current value cancels the animation if one is currently running\r\n    sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\r\n}\r\n// TODO it should work only if there was no animation before.\r\nexport function withStartValue(startValue, animation) {\r\n    'worklet';\r\n    return defineAnimation(startValue, () => {\r\n        'worklet';\r\n        if (!_WORKLET && typeof animation === 'function') {\r\n            animation = animation();\r\n        }\r\n        animation.current = startValue;\r\n        return animation;\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"script"}