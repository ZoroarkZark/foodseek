{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EntryExitTransition = void 0;\nexports.combineTransition = combineTransition;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _animationBuilder = require(\"../animationBuilder\");\n\nvar _animation = require(\"../../animation\");\n\nvar _Fade = require(\"../defaultAnimations/Fade\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EntryExitTransition = function (_BaseAnimationBuilder) {\n  (0, _inherits2.default)(EntryExitTransition, _BaseAnimationBuilder);\n\n  var _super = _createSuper(EntryExitTransition);\n\n  function EntryExitTransition() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, EntryExitTransition);\n    _this = _super.apply(this, arguments);\n    _this.enteringV = _Fade.FadeIn;\n    _this.exitingV = _Fade.FadeOut;\n\n    _this.build = function () {\n      var delayFunction = _this.getDelayFunction();\n\n      var callback = _this.callbackV;\n\n      var delay = _this.getDelay();\n\n      var enteringAnimation = _this.enteringV.build();\n\n      var exitingAnimation = _this.exitingV.build();\n\n      var exitingDuration = _this.exitingV.getDuration();\n\n      return function () {\n        var _f = function _f(values) {\n          var _a, _b, _c, _d;\n\n          var enteringValues = enteringAnimation(values);\n          var exitingValues = exitingAnimation(values);\n          var animations = {\n            transform: []\n          };\n\n          for (var prop of Object.keys(exitingValues.animations)) {\n            if (prop === 'transform') {\n              (_a = exitingValues.animations[prop]) === null || _a === void 0 ? void 0 : _a.forEach(function (value, index) {\n                var _a;\n\n                for (var transformProp of Object.keys(value)) {\n                  (_a = animations.transform) === null || _a === void 0 ? void 0 : _a.push((0, _defineProperty2.default)({}, transformProp, delayFunction(delay, (0, _animation.withSequence)(value[transformProp], (0, _animation.withTiming)(exitingValues.initialValues.transform ? exitingValues.initialValues.transform[index][transformProp] : 0, {\n                    duration: 0\n                  })))));\n                }\n              });\n            } else {\n              var sequence = enteringValues.animations[prop] !== undefined ? [exitingValues.animations[prop], (0, _animation.withTiming)(enteringValues.initialValues[prop], {\n                duration: 0\n              }), enteringValues.animations[prop]] : [exitingValues.animations[prop], (0, _animation.withTiming)(Object.keys(values).includes(prop) ? values[prop] : exitingValues.initialValues[prop], {\n                duration: 0\n              })];\n              animations[prop] = delayFunction(delay, _animation.withSequence.apply(void 0, sequence));\n            }\n          }\n\n          for (var _prop of Object.keys(enteringValues.animations)) {\n            if (_prop === 'transform') {\n              (_b = enteringValues.animations[_prop]) === null || _b === void 0 ? void 0 : _b.forEach(function (value, index) {\n                var _a;\n\n                for (var transformProp of Object.keys(value)) {\n                  (_a = animations.transform) === null || _a === void 0 ? void 0 : _a.push((0, _defineProperty2.default)({}, transformProp, delayFunction(delay + exitingDuration, (0, _animation.withSequence)((0, _animation.withTiming)(enteringValues.initialValues.transform ? enteringValues.initialValues.transform[index][transformProp] : 0, {\n                    duration: exitingDuration\n                  }), value[transformProp]))));\n                }\n              });\n            } else if (animations[_prop] !== undefined) {\n              continue;\n            } else {\n              animations[_prop] = delayFunction(delay, (0, _animation.withSequence)((0, _animation.withTiming)(enteringValues.initialValues[_prop], {\n                duration: 0\n              }), enteringValues.animations[_prop]));\n            }\n          }\n\n          var mergedTransform = ((_c = exitingValues.initialValues.transform) !== null && _c !== void 0 ? _c : []).concat(((_d = enteringValues.animations.transform) !== null && _d !== void 0 ? _d : []).map(function (value) {\n            var objectKeys = Object.keys(value);\n\n            if ((objectKeys === null || objectKeys === void 0 ? void 0 : objectKeys.length) < 1) {\n              console.error(\"[Reanimated]: ${value} is not a valid Transform object\");\n              return value;\n            }\n\n            var transformProp = objectKeys[0];\n            var current = value[transformProp].current;\n\n            if (typeof current === 'string') {\n              if (current.includes('deg')) return (0, _defineProperty2.default)({}, transformProp, '0deg');else return (0, _defineProperty2.default)({}, transformProp, '0');\n            } else if (transformProp.includes('translate')) {\n              return (0, _defineProperty2.default)({}, transformProp, 0);\n            } else {\n              return (0, _defineProperty2.default)({}, transformProp, 1);\n            }\n\n            return value;\n          }));\n          return {\n            initialValues: Object.assign(Object.assign({}, exitingValues.initialValues), {\n              originX: values.currentOriginX,\n              originY: values.currentOriginY,\n              width: values.currentWidth,\n              height: values.currentHeight,\n              transform: mergedTransform\n            }),\n            animations: Object.assign({\n              originX: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetOriginX, {\n                duration: exitingDuration\n              })),\n              originY: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetOriginY, {\n                duration: exitingDuration\n              })),\n              width: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetWidth, {\n                duration: exitingDuration\n              })),\n              height: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetHeight, {\n                duration: exitingDuration\n              }))\n            }, animations),\n            callback: callback\n          };\n        };\n\n        _f._closure = {\n          enteringAnimation: enteringAnimation,\n          exitingAnimation: exitingAnimation,\n          delayFunction: delayFunction,\n          delay: delay,\n          withSequence: _animation.withSequence,\n          withTiming: _animation.withTiming,\n          exitingDuration: exitingDuration,\n          callback: callback\n        };\n        _f.asString = \"function _f(values){const{enteringAnimation,exitingAnimation,delayFunction,delay,withSequence,withTiming,exitingDuration,callback}=jsThis._closure;{var _a,_b,_c,_d;const enteringValues=enteringAnimation(values);const exitingValues=exitingAnimation(values);const animations={transform:[]};for(const prop of Object.keys(exitingValues.animations)){if(prop==='transform'){(_a=exitingValues.animations[prop])===null||_a===void 0?void 0:_a.forEach(function(value,index){var _a;for(const transformProp of Object.keys(value)){(_a=animations.transform)===null||_a===void 0?void 0:_a.push({[transformProp]:delayFunction(delay,withSequence(value[transformProp],withTiming(exitingValues.initialValues.transform?exitingValues.initialValues.transform[index][transformProp]:0,{duration:0})))});}});}else{const sequence=enteringValues.animations[prop]!==undefined?[exitingValues.animations[prop],withTiming(enteringValues.initialValues[prop],{duration:0}),enteringValues.animations[prop]]:[exitingValues.animations[prop],withTiming(Object.keys(values).includes(prop)?values[prop]:exitingValues.initialValues[prop],{duration:0})];animations[prop]=delayFunction(delay,withSequence(...sequence));}}for(const prop of Object.keys(enteringValues.animations)){if(prop==='transform'){(_b=enteringValues.animations[prop])===null||_b===void 0?void 0:_b.forEach(function(value,index){var _a;for(const transformProp of Object.keys(value)){(_a=animations.transform)===null||_a===void 0?void 0:_a.push({[transformProp]:delayFunction(delay+exitingDuration,withSequence(withTiming(enteringValues.initialValues.transform?enteringValues.initialValues.transform[index][transformProp]:0,{duration:exitingDuration}),value[transformProp]))});}});}else if(animations[prop]!==undefined){continue;}else{animations[prop]=delayFunction(delay,withSequence(withTiming(enteringValues.initialValues[prop],{duration:0}),enteringValues.animations[prop]));}}const mergedTransform=((_c=exitingValues.initialValues.transform)!==null&&_c!==void 0?_c:[]).concat(((_d=enteringValues.animations.transform)!==null&&_d!==void 0?_d:[]).map(function(value){const objectKeys=Object.keys(value);if((objectKeys===null||objectKeys===void 0?void 0:objectKeys.length)<1){console.error(\\\"[Reanimated]: ${value} is not a valid Transform object\\\");return value;}const transformProp=objectKeys[0];const current=value[transformProp].current;if(typeof current==='string'){if(current.includes('deg'))return{[transformProp]:'0deg'};else return{[transformProp]:'0'};}else if(transformProp.includes('translate')){return{[transformProp]:0};}else{return{[transformProp]:1};}return value;}));return{initialValues:Object.assign(Object.assign({},exitingValues.initialValues),{originX:values.currentOriginX,originY:values.currentOriginY,width:values.currentWidth,height:values.currentHeight,transform:mergedTransform}),animations:Object.assign({originX:delayFunction(delay+exitingDuration,withTiming(values.targetOriginX,{duration:exitingDuration})),originY:delayFunction(delay+exitingDuration,withTiming(values.targetOriginY,{duration:exitingDuration})),width:delayFunction(delay+exitingDuration,withTiming(values.targetWidth,{duration:exitingDuration})),height:delayFunction(delay+exitingDuration,withTiming(values.targetHeight,{duration:exitingDuration}))},animations),callback:callback};}}\";\n        _f.__workletHash = 3210898481123;\n        _f.__location = \"C:\\\\Users\\\\Mr. REEETARD\\\\Desktop\\\\FoodSeek\\\\foodseek\\\\src\\\\ui\\\\foodseek\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\reanimated2\\\\layoutReanimation\\\\defaultTransitions\\\\EntryExitTransition.js (16:19)\";\n        return _f;\n      }();\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(EntryExitTransition, [{\n    key: \"entering\",\n    value: function entering(animation) {\n      this.enteringV = animation;\n      return this;\n    }\n  }, {\n    key: \"exiting\",\n    value: function exiting(animation) {\n      this.exitingV = animation;\n      return this;\n    }\n  }], [{\n    key: \"createInstance\",\n    value: function createInstance() {\n      return new EntryExitTransition();\n    }\n  }, {\n    key: \"entering\",\n    value: function entering(animation) {\n      var instance = this.createInstance();\n      return instance.entering(animation);\n    }\n  }, {\n    key: \"exiting\",\n    value: function exiting(animation) {\n      var instance = this.createInstance();\n      return instance.exiting(animation);\n    }\n  }]);\n  return EntryExitTransition;\n}(_animationBuilder.BaseAnimationBuilder);\n\nexports.EntryExitTransition = EntryExitTransition;\n\nfunction combineTransition(exiting, entering) {\n  return EntryExitTransition.entering(entering).exiting(exiting);\n}","map":{"version":3,"sources":["C:/Users/Mr. REEETARD/Desktop/FoodSeek/foodseek/src/ui/foodseek/node_modules/react-native-reanimated/lib/reanimated2/layoutReanimation/defaultTransitions/EntryExitTransition.js"],"names":["EntryExitTransition","arguments","enteringV","FadeIn","exitingV","FadeOut","build","delayFunction","getDelayFunction","callback","callbackV","delay","getDelay","enteringAnimation","exitingAnimation","exitingDuration","getDuration","values","_a","_b","_c","_d","enteringValues","exitingValues","animations","transform","prop","Object","keys","forEach","value","index","transformProp","push","initialValues","duration","sequence","undefined","includes","withSequence","mergedTransform","concat","map","objectKeys","length","console","error","current","assign","originX","currentOriginX","originY","currentOriginY","width","currentWidth","height","currentHeight","targetOriginX","targetOriginY","targetWidth","targetHeight","withTiming","animation","instance","createInstance","entering","exiting","BaseAnimationBuilder","combineTransition"],"mappings":"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","sourcesContent":["import { BaseAnimationBuilder } from '../animationBuilder';\r\nimport { withSequence, withTiming } from '../../animation';\r\nimport { FadeIn, FadeOut } from '../defaultAnimations/Fade';\r\nexport class EntryExitTransition extends BaseAnimationBuilder {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.enteringV = FadeIn;\r\n        this.exitingV = FadeOut;\r\n        this.build = () => {\r\n            const delayFunction = this.getDelayFunction();\r\n            const callback = this.callbackV;\r\n            const delay = this.getDelay();\r\n            const enteringAnimation = this.enteringV.build();\r\n            const exitingAnimation = this.exitingV.build();\r\n            const exitingDuration = this.exitingV.getDuration();\r\n            return (values) => {\r\n                'worklet';\r\n                var _a, _b, _c, _d;\r\n                const enteringValues = enteringAnimation(values);\r\n                const exitingValues = exitingAnimation(values);\r\n                const animations = {\r\n                    transform: [],\r\n                };\r\n                for (const prop of Object.keys(exitingValues.animations)) {\r\n                    if (prop === 'transform') {\r\n                        (_a = exitingValues.animations[prop]) === null || _a === void 0 ? void 0 : _a.forEach((value, index) => {\r\n                            var _a;\r\n                            for (const transformProp of Object.keys(value)) {\r\n                                (_a = animations.transform) === null || _a === void 0 ? void 0 : _a.push({\r\n                                    [transformProp]: delayFunction(delay, withSequence(value[transformProp], withTiming(exitingValues.initialValues.transform\r\n                                        ? exitingValues.initialValues.transform[index][transformProp]\r\n                                        : 0, { duration: 0 }))),\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        const sequence = enteringValues.animations[prop] !== undefined\r\n                            ? [\r\n                                exitingValues.animations[prop],\r\n                                withTiming(enteringValues.initialValues[prop], {\r\n                                    duration: 0,\r\n                                }),\r\n                                enteringValues.animations[prop],\r\n                            ]\r\n                            : [\r\n                                exitingValues.animations[prop],\r\n                                withTiming(Object.keys(values).includes(prop)\r\n                                    ? values[prop]\r\n                                    : exitingValues.initialValues[prop], { duration: 0 }),\r\n                            ];\r\n                        animations[prop] = delayFunction(delay, withSequence(...sequence));\r\n                    }\r\n                }\r\n                for (const prop of Object.keys(enteringValues.animations)) {\r\n                    if (prop === 'transform') {\r\n                        (_b = enteringValues.animations[prop]) === null || _b === void 0 ? void 0 : _b.forEach((value, index) => {\r\n                            var _a;\r\n                            for (const transformProp of Object.keys(value)) {\r\n                                (_a = animations.transform) === null || _a === void 0 ? void 0 : _a.push({\r\n                                    [transformProp]: delayFunction(delay + exitingDuration, withSequence(withTiming(enteringValues.initialValues.transform\r\n                                        ? enteringValues.initialValues.transform[index][transformProp]\r\n                                        : 0, { duration: exitingDuration }), value[transformProp])),\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (animations[prop] !== undefined) {\r\n                        // it was already added in the previous loop\r\n                        continue;\r\n                    }\r\n                    else {\r\n                        animations[prop] = delayFunction(delay, withSequence(withTiming(enteringValues.initialValues[prop], { duration: 0 }), enteringValues.animations[prop]));\r\n                    }\r\n                }\r\n                const mergedTransform = ((_c = exitingValues.initialValues.transform) !== null && _c !== void 0 ? _c : []).concat(((_d = enteringValues.animations.transform) !== null && _d !== void 0 ? _d : []).map((value) => {\r\n                    const objectKeys = Object.keys(value);\r\n                    if ((objectKeys === null || objectKeys === void 0 ? void 0 : objectKeys.length) < 1) {\r\n                        console.error(`[Reanimated]: \\${value} is not a valid Transform object`);\r\n                        return value;\r\n                    }\r\n                    const transformProp = objectKeys[0];\r\n                    const current = value[transformProp].current;\r\n                    if (typeof current === 'string') {\r\n                        if (current.includes('deg'))\r\n                            return {\r\n                                [transformProp]: '0deg',\r\n                            };\r\n                        else\r\n                            return {\r\n                                [transformProp]: '0',\r\n                            };\r\n                    }\r\n                    else if (transformProp.includes('translate')) {\r\n                        return { [transformProp]: 0 };\r\n                    }\r\n                    else {\r\n                        return { [transformProp]: 1 };\r\n                    }\r\n                    return value;\r\n                }));\r\n                return {\r\n                    initialValues: Object.assign(Object.assign({}, exitingValues.initialValues), { originX: values.currentOriginX, originY: values.currentOriginY, width: values.currentWidth, height: values.currentHeight, transform: mergedTransform }),\r\n                    animations: Object.assign({ originX: delayFunction(delay + exitingDuration, withTiming(values.targetOriginX, { duration: exitingDuration })), originY: delayFunction(delay + exitingDuration, withTiming(values.targetOriginY, { duration: exitingDuration })), width: delayFunction(delay + exitingDuration, withTiming(values.targetWidth, { duration: exitingDuration })), height: delayFunction(delay + exitingDuration, withTiming(values.targetHeight, { duration: exitingDuration })) }, animations),\r\n                    callback: callback,\r\n                };\r\n            };\r\n        };\r\n    }\r\n    static createInstance() {\r\n        return new EntryExitTransition();\r\n    }\r\n    static entering(animation) {\r\n        const instance = this.createInstance();\r\n        return instance.entering(animation);\r\n    }\r\n    entering(animation) {\r\n        this.enteringV = animation;\r\n        return this;\r\n    }\r\n    static exiting(animation) {\r\n        const instance = this.createInstance();\r\n        return instance.exiting(animation);\r\n    }\r\n    exiting(animation) {\r\n        this.exitingV = animation;\r\n        return this;\r\n    }\r\n}\r\nexport function combineTransition(exiting, entering) {\r\n    return EntryExitTransition.entering(entering).exiting(exiting);\r\n}\r\n"]},"metadata":{},"sourceType":"script"}